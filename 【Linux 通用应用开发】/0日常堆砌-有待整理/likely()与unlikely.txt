likely()与unlikely
Linux内核中有两个这样的东西：likely()与unlikely

#define likely(x) __builtin_expect(!!(x), 1)
#define unlikely(x) __builtin_expect(!!(x), 0)

我们可以根据高概率发生的情况放在if分支，低概率的放在else分支，以提高程序运行效率。

if(likely(XXX))
{/*...*/}
else
{/*...*/}

或者

if(unlikely(XXX))
{/*...*/}
else
{/*...*/}
————————————————
版权声明：本文为CSDN博主「嵌入式软件实战派」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
原文链接：https://blog.csdn.net/lianyunyouyou/article/details/117534039