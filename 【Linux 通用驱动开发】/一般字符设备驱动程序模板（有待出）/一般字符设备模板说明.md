## 一般模板！

驱动程序的一般建立过程描述：

1. 模块被加载的时候（被 insmod 的时候，执行通过 module_init() 注册的函数），基本的，进行 获取外设资源，注册设备、创建设备类、创建设备。
2. 被 open 时候，进行 设备初始化操作。
3. read() / write() / ioctl() 等等。
4. 被 close 时候，进行 设备反初始化操作，外设恢复到 初始化以前 或 默认的状态。
5. 模块被卸载的时候（被 rmmod的时候，执行通过 module_exit() 注册的函数），基本的，进行 释放外设资源、删除设备、删除设备类、卸载设备注册。即 与模块加载的时候的过程相反，创建了什么就卸载掉什么，并且顺序相反。模块状态回归到模块加载以前的状态，资源尽量都释放掉。

一般模板，这里都是字符型设备，包括中断、信号在内，用不到的部分可以注释掉。



有待整理一个模板放到这个文件夹，按照 我的 soc_drv_debug 程序结构，只保留通用的框架（解析设备树部分也不要），还要包括 阻塞、非阻塞、异步通知、poll机制，还要实现一个 双缓冲区+mmap（按照我硕士毕设设计的 高速数据采集机制驱动层的那张图（可以放这里来），乒乓缓存的编程可以仿照 sopc 的 nios ii 程序里面的），就是只保留通用的部分，只要加一些 设备树解析、操作外设寄存器等程序 就可以直接用 那种！
